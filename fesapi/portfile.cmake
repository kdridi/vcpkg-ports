vcpkg_from_github(
	OUT_SOURCE_PATH SOURCE_PATH
	REPO F2I-Consulting/fesapi
	REF v2.13.0.0
	SHA512 1ccbcef17f484f1aebbfff0347fd4aaf51d86d9389645cf2059cc6d47d69863c9bde368df438ac7d9146c6dd111d1da6bac1910146977629ff0a7cddb5848a08
	HEAD_REF master
	PATCHES
		eliis.patch
)

if (VCPKG_LIBRARY_LINKAGE STREQUAL "static")
	set(FESAPI_STATIC_CMAKE_OPTIONS -DHDF5_USE_STATIC_LIBRARIES=ON -DZLIB_USE_STATIC_LIBS=ON)
endif ()

vcpkg_configure_cmake(
	SOURCE_PATH "${SOURCE_PATH}"
	DISABLE_PARALLEL_CONFIGURE
	OPTIONS ${FEATURE_OPTIONS} ${FESAPI_STATIC_CMAKE_OPTIONS}
)

vcpkg_install_cmake()

vcpkg_fixup_cmake_targets(
	CONFIG_PATH lib/cmake/FesapiCpp
)

vcpkg_install_copyright(
	FILE_LIST
	"${SOURCE_PATH}/LICENSE"
)